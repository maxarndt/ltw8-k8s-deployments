input:
  nats_jetstream:
    urls: [ "tls://connect.ngs.global" ]
    durable: "con01"
    stream: "ltw8-temperature"
    bind: true
    auth:
      user_credentials_file: "/Users/maxarndt/nats/NGS-Default-CLI.creds"

pipeline:
  processors:
    - mapping: |
        root = "temperature{object=\"ltw8\", level=\"1\"} " + this.value.string() + " " + this.timestamp.ts_parse("2006-01-02T15:04:05Z07:00").format_timestamp_unix_milli().string()


output:
  # stdout:
  #   codec: lines
  http_client:
    url: "http://localhost:8428/api/v1/import/prometheus"
    verb: POST
    headers:
      "Content-Type": "text/plain"
    retries: 3
    timeout: "10s"
